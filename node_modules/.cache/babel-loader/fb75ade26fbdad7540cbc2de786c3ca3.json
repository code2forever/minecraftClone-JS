{"ast":null,"code":"import _slicedToArray from\"D:/Git files/Minecraft/minecraftClone-JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useBox}from\"@react-three/cannon\";import{useStore}from\"../hooks/useStore\";import*as textures from'../images/textures';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Cube=function Cube(_ref){var position=_ref.position,texture=_ref.texture;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isHovered=_useState2[0],setIsHovered=_useState2[1];var _useBox=useBox(function(){return{type:'static',position:position};}),_useBox2=_slicedToArray(_useBox,1),ref=_useBox2[0];var _useStore=useStore(function(state){return[state.addCube,state.removeCube];}),_useStore2=_slicedToArray(_useStore,2),addCube=_useStore2[0],removeCube=_useStore2[1];var activeTexture=textures[texture+'Texture'];return/*#__PURE__*/_jsxs(\"mesh\",{onPointerMove:function onPointerMove(e){e.stopPropagation();setIsHovered(true);},onPointerOut:function onPointerOut(e){e.stopPropagation();setIsHovered(false);},onClick:function onClick(e){e.stopPropagation();var _ref$current$position=ref.current.position,x=_ref$current$position.x,y=_ref$current$position.y,z=_ref$current$position.z;var clickedFace=Math.floor(e.faceIndex/2);if(e.altKey){removeCube(x,y,z);return;}if(clickedFace===0){addCube(x+1,y,z);return;}else if(clickedFace===1){addCube(x-1,y,z);return;}else if(clickedFace===2){addCube(x,y+1,z);return;}else if(clickedFace===3){addCube(x,y-1,z);return;}else if(clickedFace===4){addCube(x,y,z+1);return;}else if(clickedFace===5){addCube(x,y,z-1);return;}},ref:ref,children:[/*#__PURE__*/_jsx(\"boxBufferGeometry\",{attach:\"geometry\"}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{color:isHovered?\"grey\":\"white\",transparent:true,opacity:texture==='glass'?0.6:1,map:activeTexture,attach:\"material\"})]});};","map":{"version":3,"names":["useBox","useStore","textures","useState","Cube","position","texture","isHovered","setIsHovered","type","ref","state","addCube","removeCube","activeTexture","e","stopPropagation","current","x","y","z","clickedFace","Math","floor","faceIndex","altKey"],"sources":["D:/Git files/Minecraft/minecraftClone-JS/src/components/Cube.js"],"sourcesContent":["import { useBox } from \"@react-three/cannon\"\r\nimport { useStore } from \"../hooks/useStore\"\r\nimport * as textures from '../images/textures'\r\nimport { useState } from \"react\"\r\n\r\nexport const Cube=({position,texture})=>{\r\n  const [isHovered,setIsHovered]=useState(false);\r\n  const [ref]=useBox(()=>({\r\n    type:'static',\r\n    position\r\n  }))\r\n\r\n  const [addCube,removeCube]=useStore((state)=>[state.addCube,state.removeCube]);\r\n  const activeTexture=textures[texture+'Texture'];\r\n\r\n  return (\r\n    <mesh\r\n    onPointerMove={(e)=>{\r\n        e.stopPropagation();\r\n        setIsHovered(true);\r\n    }}\r\n    onPointerOut={\r\n      (e)=>{\r\n        e.stopPropagation();\r\n        setIsHovered(false);\r\n      }\r\n    }\r\n    onClick={(e)=>{\r\n      e.stopPropagation();\r\n      const {x,y,z}=ref.current.position;\r\n      const clickedFace=Math.floor(e.faceIndex/2);\r\n      if (e.altKey){\r\n        removeCube(x,y,z);\r\n        return;\r\n      }\r\n      if(clickedFace===0){\r\n        addCube(x+1,y,z);\r\n        return;\r\n      }\r\n      else if(clickedFace===1){\r\n        addCube(x-1,y,z);\r\n        return;\r\n      }\r\n      else if(clickedFace===2){\r\n        addCube(x,y+1,z);\r\n        return;\r\n      }\r\n      else if(clickedFace===3){\r\n        addCube(x,y-1,z);\r\n        return;\r\n      }\r\n      else if(clickedFace===4){\r\n        addCube(x,y,z+1);\r\n        return;\r\n      }\r\n      else if(clickedFace===5){\r\n        addCube(x,y,z-1);\r\n        return;\r\n      }\r\n    }}\r\n    ref={ref}>\r\n      <boxBufferGeometry attach=\"geometry\"/>\r\n      <meshStandardMaterial color={isHovered?\"grey\":\"white\"} transparent={true}\r\n      opacity={texture==='glass'?0.6:1}map={activeTexture}\r\nattach=\"material\"/>\r\n</mesh>\r\n  )\r\n}"],"mappings":"+JAAA,OAASA,MAAT,KAAuB,qBAAvB,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,MAAO,GAAKC,SAAZ,KAA0B,oBAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,MAAO,IAAMC,KAAI,CAAC,QAALA,KAAK,MAAsB,IAApBC,SAAoB,MAApBA,QAAoB,CAAXC,OAAW,MAAXA,OAAW,CACtC,cAA+BH,QAAQ,CAAC,KAAD,CAAvC,wCAAOI,SAAP,eAAiBC,YAAjB,eACA,YAAYR,MAAM,CAAC,iBAAK,CACtBS,IAAI,CAAC,QADiB,CAEtBJ,QAAQ,CAARA,QAFsB,CAAL,EAAD,CAAlB,oCAAOK,GAAP,aAKA,cAA2BT,QAAQ,CAAC,SAACU,KAAD,QAAS,CAACA,KAAK,CAACC,OAAP,CAAeD,KAAK,CAACE,UAArB,CAAT,EAAD,CAAnC,wCAAOD,OAAP,eAAeC,UAAf,eACA,GAAMC,cAAa,CAACZ,QAAQ,CAACI,OAAO,CAAC,SAAT,CAA5B,CAEA,mBACE,cACA,aAAa,CAAE,uBAACS,CAAD,CAAK,CAChBA,CAAC,CAACC,eAAF,GACAR,YAAY,CAAC,IAAD,CAAZ,CACH,CAJD,CAKA,YAAY,CACV,sBAACO,CAAD,CAAK,CACHA,CAAC,CAACC,eAAF,GACAR,YAAY,CAAC,KAAD,CAAZ,CACD,CATH,CAWA,OAAO,CAAE,iBAACO,CAAD,CAAK,CACZA,CAAC,CAACC,eAAF,GACA,0BAAcN,GAAG,CAACO,OAAJ,CAAYZ,QAA1B,CAAOa,CAAP,uBAAOA,CAAP,CAASC,CAAT,uBAASA,CAAT,CAAWC,CAAX,uBAAWA,CAAX,CACA,GAAMC,YAAW,CAACC,IAAI,CAACC,KAAL,CAAWR,CAAC,CAACS,SAAF,CAAY,CAAvB,CAAlB,CACA,GAAIT,CAAC,CAACU,MAAN,CAAa,CACXZ,UAAU,CAACK,CAAD,CAAGC,CAAH,CAAKC,CAAL,CAAV,CACA,OACD,CACD,GAAGC,WAAW,GAAG,CAAjB,CAAmB,CACjBT,OAAO,CAACM,CAAC,CAAC,CAAH,CAAKC,CAAL,CAAOC,CAAP,CAAP,CACA,OACD,CAHD,IAIK,IAAGC,WAAW,GAAG,CAAjB,CAAmB,CACtBT,OAAO,CAACM,CAAC,CAAC,CAAH,CAAKC,CAAL,CAAOC,CAAP,CAAP,CACA,OACD,CAHI,IAIA,IAAGC,WAAW,GAAG,CAAjB,CAAmB,CACtBT,OAAO,CAACM,CAAD,CAAGC,CAAC,CAAC,CAAL,CAAOC,CAAP,CAAP,CACA,OACD,CAHI,IAIA,IAAGC,WAAW,GAAG,CAAjB,CAAmB,CACtBT,OAAO,CAACM,CAAD,CAAGC,CAAC,CAAC,CAAL,CAAOC,CAAP,CAAP,CACA,OACD,CAHI,IAIA,IAAGC,WAAW,GAAG,CAAjB,CAAmB,CACtBT,OAAO,CAACM,CAAD,CAAGC,CAAH,CAAKC,CAAC,CAAC,CAAP,CAAP,CACA,OACD,CAHI,IAIA,IAAGC,WAAW,GAAG,CAAjB,CAAmB,CACtBT,OAAO,CAACM,CAAD,CAAGC,CAAH,CAAKC,CAAC,CAAC,CAAP,CAAP,CACA,OACD,CACF,CA3CD,CA4CA,GAAG,CAAEV,GA5CL,wBA6CE,0BAAmB,MAAM,CAAC,UAA1B,EA7CF,cA8CE,6BAAsB,KAAK,CAAEH,SAAS,CAAC,MAAD,CAAQ,OAA9C,CAAuD,WAAW,CAAE,IAApE,CACA,OAAO,CAAED,OAAO,GAAG,OAAV,CAAkB,GAAlB,CAAsB,CAD/B,CACiC,GAAG,CAAEQ,aADtC,CAEN,MAAM,CAAC,UAFD,EA9CF,GADF,CAoDD,CA9DM"},"metadata":{},"sourceType":"module"}